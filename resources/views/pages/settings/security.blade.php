@extends('layouts.authenticated-unified')@section('title', 'Pengaturan Keamanan')@section('page-content')<div class="min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-blue-900 dark:to-indigo-900"><div class="p-6 lg:p-8"><x-layouts.base-page title="Pengaturan Keamanan" subtitle="Kelola preferensi keamanan akun dan perangkat terpercaya Anda." :breadcrumbs="[['label' => 'Dashboard', 'url' => route('dashboard')],['label' => 'Pengaturan'],['label' => 'Keamanan']]"></x-layouts.base-page><div class="space-y-6"><!-- Two-Factor Authentication --><div class="group relative bg-white/20 backdrop-blur-sm border border-white/30 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 ease-out"><h3 class="text-xl font-semibold text-slate-800 dark:text-white mb-4">Autentikasi Dua Faktor</h3><p class="mt-1 text-sm text-slate-600 dark:text-slate-400 mb-4">Tambahkan lapisan keamanan ekstra ke akun Anda dengan memerlukan kode verifikasi selain kata sandi Anda.</p><div class="mt-5">@if(auth()->user()->hasTwoFactorEnabled())<div class="flex items-center"><svg class="h-5 w-5 text-green-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg><span class="ml-2 text-sm font-medium text-green-700 dark:text-green-400">Otentikasi dua faktor diaktifkan</span></div><div class="mt-4 flex space-x-3"><x-ui.button href="{{ route('2fa.show') }}" variant="secondary">Kelola 2FA</x-ui.button></div>@else<div class="flex items-center"><svg class="h-5 w-5 text-amber-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg><span class="ml-2 text-sm font-medium text-amber-700 dark:text-amber-400">Otentikasi dua faktor tidak diaktifkan</span></div><div class="mt-4"><x-ui.button href="{{ route('2fa.setup') }}" variant="primary">Aktifkan Otentikasi Dua Faktor</x-ui.button></div>@endif</div></div><!-- Device Management --><div id="device-management" class="group relative bg-white/20 backdrop-blur-sm border border-white/30 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 ease-out"><device-management></device-management></div><!-- Notification Preferences --><div id="notification-preferences" class="group relative bg-white/20 backdrop-blur-sm border border-white/30 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 ease-out"><notification-preferences></notification-preferences></div><!-- Login Activity --><div class="group relative bg-white/20 backdrop-blur-sm border border-white/30 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 ease-out"><h3 class="text-xl font-semibold text-slate-800 dark:text-white mb-4">Aktivitas Login Terbaru</h3><p class="mt-1 text-sm text-slate-600 dark:text-slate-400 mb-4">Tinjau aktivitas login terbaru Anda dan perhatikan aktivitas mencurigakan.</p><div class="mt-5"><div class="bg-white/10 rounded-lg p-4"><div class="flex items-center justify-between"><div><p class="text-sm font-medium text-slate-800 dark:text-white">Login terakhir: {{ auth()->user()->last_login_at ? auth()->user()->last_login_at->format('M j, Y \a\t g:i A') : 'Tidak Pernah' }}</p><p class="text-sm text-slate-500 dark:text-slate-400">IP: {{ auth()->user()->last_login_ip ?? 'Tidak Dikenal' }}</p></div><div><span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium text-white bg-gradient-to-r from-green-500 to-emerald-600 shadow-lg">Sesi Saat Ini</span></div></div></div></div></div><!-- Password Change --><div class="group relative bg-white/20 backdrop-blur-sm border border-white/30 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 ease-out"><h3 class="text-xl font-semibold text-slate-800 dark:text-white mb-4">Kata Sandi</h3><p class="mt-1 text-sm text-slate-600 dark:text-slate-400 mb-4">Pastikan akun Anda menggunakan kata sandi yang panjang dan acak untuk tetap aman.</p><div class="mt-5"><x-ui.button href="{{ route('password.request') }}" variant="secondary">Ubah Kata Sandi</x-ui.button></div></div></div></div></div>@endsection@push('scripts')<script type="module">import { createApp } from 'vue'import DeviceManagement from '@/components/Security/DeviceManagement.vue'import NotificationPreferences from '@/components/Security/NotificationPreferences.vue'// Mount device management componentconst deviceApp = createApp({components: {DeviceManagement}})deviceApp.mount('#device-management')// Mount notification preferences componentconst notificationApp = createApp({components: {NotificationPreferences}})notificationApp.mount('#notification-preferences')</script>@endpush